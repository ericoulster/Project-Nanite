<!-- index.html-->
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>hello world</title>
        <script type="text/javascript" src="../d3/d3.js"></script>
    </head>
    <body>
        

	<div class="progress"></div>

    <script>
        var data = {
            'Wtarget_sum': 1000.0,
            'daily_words': 800.0
    };
        
        var progress_val = (data['daily_words'] / data['Wtarget_sum'])*100;

        if (progress_val < 25) {
            progress_color = "#D0D0D0"
        }
        else if (progress_val < 50) {
            progress_color = "#F6B85C"
        }
        else if (progress_val < 75) {
            progress_color = "#F6D55C"
        }
        else if (progress_val < 100) {
            progress_color = "#CEF65C"
        }
        else if (progress_val < 115) {
            progress_color = "#96F65C"
        }
        else if (progress_val < 200) {
            progress_color = "#5CF6D1"
        }
        else {
            progress_color = "#5CBFF6"
        }
        console.log(progress_val)

        var svg = d3.select('.progress')
            .append('svg')
            .attr('height', 100)
            .attr('width', 500);
    
        // var states = ['started', 'inProgress', 'completed'],
        //     segmentWidth = 100,
        //     currentState = 'started';
    
        // var colorScale = d3.scaleOrdinal()
        //     .domain(states)
        //     .range(['yellow', 'orange', 'green']);

    
        svg.append('rect')
            .attr('class', 'bg-rect')
            .attr('rx', 10)
            .attr('ry', 10)
            .attr('fill', 'gray')
            .attr('height', 15)
            .attr('width', function(){
                return 500;
            })
            .attr('x', 0);
    
        var progress = svg.append('rect')
                        .attr('class', 'progress-rect')
                        .attr('fill', function(){
                            return progress_color;
                        })
                        .attr('height', 15)
                        .attr('width', 0)
                        .attr('rx', 10)
                        .attr('ry', 10)
                        .attr('x', 0);
    
        progress.transition()
            .duration(1000)
            .attr('width', function(){
                var index = progress_val;
                return index * 5;
            });
    
        // function moveProgressBar(state){
        //     progress.transition()
        //         .duration(1000)
        //         .attr('fill', function(){
        //             return progress_color;
        //         })
        //         .attr('width', function(){
        //             var index = states.indexOf(state);
        //             return (index + 1) * segmentWidth;
        //         });
        // }
    
    
        </script>


    </body>
</html>