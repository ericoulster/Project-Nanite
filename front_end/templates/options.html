{% extends 'base.html' %}

{% block content %}

<div id="main-content" class="container">
  {% for idx, project in projects %}
  <div id="project-{{idx}}">
    <form id="project-{{idx}}-form" action="/project-options/{{idx}}" method="POST">
      <fieldset> 
          <legend>Add a new project here:</legend>
            <label>Project Name: </label><input type="text" name="name" value="{{ project.name }}" required disabled><br/>
            <label>File/folder Path:</label><input type="text" name="filepath" value="{{ project.filepath }}" required disabled><br/>
            <label>Target Word Count:</label><input type="text" name="targetwordcount" value="{{ project.targetwordcount }}" required disabled><br/>
            <label>Target End Date:</label><input type="text" name="targetenddate" value="{{ project.targetenddate }}" required disabled><br/>
            <input type="submit" value="Update Project" disabled>
      </fieldset> 
    </form>
    <p>
      <form action = "/current-project" method = "POST">
        <input type="hidden" name="currentproject" value="{{idx}}">
        <input type="submit" value="Select Current Project">
     </form>
      
      
      <button onclick="alert(document.cookie);">Cookie Alert</button></p>
    <p><button onclick="pr = document.querySelectorAll('div#project-{{idx}} > form#project-{{idx}}-form input'); pr.forEach(function(x){x.toggleAttribute('disabled')})">Edit Project</button>
      <form action = "/project-options/{{idx}}/del" method = "POST">
        <input type="hidden" name="delproject" value="{{idx}}">
        <input type="submit" value="Delete Project">
     </form>
    </p>
  </div>
{% endfor %}

  <div id="new-project">
    <form action="/project-options" method="post">
      <fieldset> 
          <legend>Add a new project here:</legend>
            <label>Project Name: </label><input type="text" name="name" required><br/>
            <label>File/folder Path:</label><input type="text" name="filepath" required><br/>
            <label>Target Word Count:</label><input type="text" name="targetwordcount" required><br/>
            <label>Target End Date:</label><input type="text" name="targetenddate" required><br/>
            <input type="submit" value="Add New Project">
      </fieldset> 
    </form>
  </div>  
</div>
{% endblock %}